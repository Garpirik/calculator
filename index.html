<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    
    <main>
        <h1 style="text-align: center;">Калькулятор</h1>
        <div class="calculator">
            
            <div><input type="text" id="values"  readonly/></div>
            <div class="allElems">
                <button onclick="addValue('+')">+</button>
                <button onclick="addValue('-')">-</button>
                <button onclick="addValue('/')">/</button>
                <button onclick="addValue('*')">*</button>
                <button onclick="solutions()">=</button>
                <button onclick="cleared()">C</button>
                <button onclick="addValue('^')">x^n</button>
                <button onclick="addValue('√')">√x</button>
                <button onclick="addValue('%')">%</button>
                <button onclick="addValue(9)">9</button>
                <button onclick="addValue(8)">8</button>
                <button onclick="addValue(7)">7</button>
                <button onclick="addValue(6)">6</button>
                <button onclick="addValue(5)">5</button>
                <button onclick="addValue(4)">4</button>
                <button onclick="addValue(3)">3</button>
                <button onclick="addValue(2)">2</button>
                <button onclick="addValue(1)">1</button>
                <button onclick="addValue(0)">0</button>

            </div>
        </div>


        <h1 style="text-align: center;">Інженерний Калькулятор</h1>
        <div class="calculator">
            
            <div><input type="text" id="valued"  /></div>
            <div class="allElems">
                <button onclick="addValueEnginering('+')">+</button>
                <button onclick="addValueEnginering('-')">-</button>
                <button onclick="addValueEnginering('/')">/</button>
                <button onclick="addValueEnginering('*')">*</button>
                <button onclick="solutionsEnginering()">=</button>
                <button onclick="clearedEnginering()">C</button>
                <button onclick="addValueEnginering('^')">x^n</button>
                <button onclick="addValueEnginering('√')">√x</button>
                <button onclick="addValueEnginering('%')">%</button>
                <button onclick="addValueEnginering(9)">9</button>
                <button onclick="addValueEnginering(8)">8</button>
                <button onclick="addValueEnginering(7)">7</button>
                <button onclick="addValueEnginering(6)">6</button>
                <button onclick="addValueEnginering(5)">5</button>
                <button onclick="addValueEnginering(4)">4</button>
                <button onclick="addValueEnginering(3)">3</button>
                <button onclick="addValueEnginering(2)">2</button>
                <button onclick="addValueEnginering(1)">1</button>
                <button onclick="addValueEnginering(0)">0</button>
                <button onclick="addValueEnginering('log(')">Log</button>
                <button onclick="addValueEnginering('ln10(')">Ln10</button>
                <button onclick="addValueEnginering('mod(')">mod</button>
                <button onclick="addValueEnginering('sin(')">sin</button>
                <button onclick="addValueEnginering('cos(')">cos</button>
                <button onclick="addValueEnginering('tang(')">tang</button>
                <button onclick="addValueEnginering('arcsin(')">arcsin</button>
                <button onclick="addValueEnginering('arccos(')">arccos</button>
                <button onclick="addValueEnginering('arctang(')">arctang</button>
                <button onclick="addValueEnginering(')')">)</button>
         

            </div>
        </div>


    </main>
    
    
    


<script>


let symboloperation = "+"
const pi = 3.14;


const addValue = (values) =>{
    let inputs = document.getElementById("values")
    console.log(inputs)

    
    inputs.value += values;

}





const cleared = () =>{
    let inputs = document.getElementById("values")

     inputs.value = '';
 
}


const solutions = () =>{



let inputs = document.getElementById("values");
    let allsymbols = (inputs.value).toString().split('');
    let operators = ['+', '-', '/', '*', "%", '^', '√'];
    let numbers = [];
    let operations = [];
    let currentNumber = '';

    for (let i = 0; i < allsymbols.length; i++) {
       
        
        if(allsymbols[i] === '√'){
            currentNumber += root(allsymbols[i+1 ])
            numbers.push(Number(currentNumber));
            currentNumber = '';
            i++;
            
        }

        if (operators.includes(allsymbols[i])) {
            numbers.push(Number(currentNumber));
            operations.push(allsymbols[i]);
            currentNumber = ''; 
        
        } 
        



        else {

            currentNumber += allsymbols[i];
        }
        


    
    }

    

    if (currentNumber !== '') {
        numbers.push(Number(currentNumber));
    }

    let result = numbers[0]; 



    for (let i = 0; i < operations.length; i++) {
        result = operation(operations[i], result, numbers[i + 1]);
    }

    inputs.value = result; 
    console.log("Result", result);
}



const solutionsEnginering = () =>{



let inputs = document.getElementById("valued");
    let allsymbols = (inputs.value).toString().split('');
    let operators = ['+', '-', '/', '*', "%", '^', '√'];
    let trygonometry = ['log','ln10','mod','sin','cos', 'tang' ,'arcsin', 'arccos', 'arctang']
    let numbers = [];
    let operations = [];
    let currentNumber = '';

    for (let i = 0; i < allsymbols.length; i++) {
       
        
        if(allsymbols[i] === '√'){
            currentNumber += root(allsymbols[i+1 ])
            numbers.push(Number(currentNumber));
            currentNumber = '';
            i++;
            
        }
        if(trygonometry.includes(allsymbols[i])){
                i++;
                while(allsymbols[i] !== ')'){
                    currentNumber += allsymbols[i]

                }
                currentNumber = '' //make in switch
            }


        if (operators.includes(allsymbols[i])) {
            numbers.push(Number(currentNumber));
            operations.push(allsymbols[i]);
            currentNumber = ''; 
        
        } 
        



        else {

            currentNumber += allsymbols[i];
        }
        


    
    }

    

    if (currentNumber !== '') {
        numbers.push(Number(currentNumber));
    }

    let result = numbers[0]; 



    for (let i = 0; i < operations.length; i++) {
        result = operation(operations[i], result, numbers[i + 1]);
    }

    inputs.value = result; 
    console.log("Result", result);
}


const addValueEnginering = (values) =>{
    let inputs = document.getElementById("valued")
    console.log(inputs)

    
    inputs.value += values;

}




const clearedEnginering = () =>{
    let inputs = document.getElementById("valued")

     inputs.value = '';
 
}




const operation = (symbol,a,b) =>{
    switch(symbol){
        case "+": return(sum(a,b))
        case "-": return(minus(a,b));
        case "/": return(divide(a,b));
        case "*": return(multiply(a,b));
        case "%": return(percentdivide(a,b))
        case "^" : return(degree(b,a))
        case "√": return(root(a))
    }
}


const sum = (a,b) =>{
    return a+b;
}
const minus = (a,b) =>{
    return a-b;

}
const divide =  (a,b) =>{
    return a/b
}
const percentdivide = (a,b) =>{
    return a%b;
}
const multiply = (a,b) =>{
    return a*b;

} 



const degree =  ( degrees,  ...args) =>{
    if(args.length === 1){    return Math.pow(args[0],degrees)}
    else{
            return Math.pow(operation(symboloperation, args[0],args[1]), degrees)
    }
}   

const root =  ( ...args) =>{
    if(args.length === 1){    return Math.sqrt(args[0])}
    else{
            return Math.sqrt(operation(symboloperation, args[0],args[1]))
    }
}   

const rootPow =  ( degrees , ...args) =>{
    if(args.length === 1){    return Math.pow(args[0],1 / degrees)}
    else{
            return Math.pow(operation(symboloperation, args[0],args[1]), 1/degrees)
    }
}   






const sin = (a) =>{
    return Math.sin(a);
}
const cos = (a) =>{
    return Math.cos(a);
}
const tang = (a) =>{
    return Math.tan(a);
}

const arcsin = (a) =>{
    return Math.asin(a);
}
const arccos = (a) =>{
    return Math.acos(a);
}

const arctang = (a) =>{
    return Math.atan(a);
}

const log = (a) =>{
    return Math.log(a);
}
const ln = (a) =>{
    return Math.log10(a);
}

const modules = (a) =>{
    return Math.abs(a);
}
    </script>
</body>
</html>